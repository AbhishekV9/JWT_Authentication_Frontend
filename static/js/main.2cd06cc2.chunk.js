(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{64:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(20),r=a.n(c),o=a(22),l=(a(64),a(65),a(7)),i=a(6),j=a(95),d=a(92),u=a(97),h=a(93),b=a(1),m=function(e){return console.log(e),Object(b.jsx)("div",{children:Object(b.jsx)(j.a,{bg:"dark",variant:"dark",children:Object(b.jsxs)(d.a,{children:[Object(b.jsx)(j.a.Brand,{children:"Home"}),Object(b.jsx)(u.a,{className:"me-auto",children:e.authorized?Object(b.jsx)(h.a,{className:"log-out",variant:"danger",onClick:function(){localStorage.setItem("token",""),localStorage.setItem("isAuthorized",!1),e.handlesetAuthorization(!1)},children:"Log-Out"}):Object(b.jsxs)("div",{children:[Object(b.jsx)(o.b,{to:"/",className:"link",children:Object(b.jsx)("span",{children:"Sign-Up"})}),Object(b.jsx)(o.b,{to:"/signin",className:"link",children:"Sign-In"})]})})]})})})},O=a(43),p=a.n(O),g="https://jwt-auth99.herokuapp.com/",x=function(e){var t=Object(i.f)();return Object(n.useEffect)((function(){var a=localStorage.getItem("token");if(""!==a){var n={headers:{Authorization:"Bearer "+a}};p.a.get(g+"authenticate",n).then((function(t){t.data.isAuthorized&&(localStorage.setItem("isAuthorized",!0),e.handlesetAuthorization(!0))}),(function(e){t("/signin"),localStorage.setItem("token",""),localStorage.setItem("isAuthorized",!1),console.log(e)}))}else t("/signin")}),[t,e]),Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{className:"welcome",children:"Welcome You are authorized now"}),Object(b.jsx)("img",{className:"happy",src:"https://www.introtodigital.com/wp-content/uploads/2020/01/Happy-PC-user.png",alt:"happy user"})]})},f=a(94),v=a(96),S=function(e){var t=Object(i.f)();Object(n.useEffect)((function(){localStorage.setItem("token",""),localStorage.setItem("isAuthorized",!1)}));var a=Object(n.useState)(""),s=Object(l.a)(a,2),c=s[0],r=s[1],o=Object(n.useState)(""),j=Object(l.a)(o,2),d=j[0],u=j[1],m=Object(n.useState)(!1),O=Object(l.a)(m,2),x=O[0],S=O[1];return Object(b.jsxs)("div",{children:[x&&Object(b.jsx)(f.a,{className:"alert2",variant:"danger",children:"Invalid Username or password, Try Again"}),Object(b.jsx)("h1",{style:{textAlign:"center",marginTop:"60px"},children:"Sign-In"}),Object(b.jsxs)(v.a,{className:"signup-form",onSubmit:function(e){e.preventDefault(),0!==c.length&&0!==d.length?p.a.get(g+"login",{params:{email:c,password:d}}).then((function(e){localStorage.setItem("token",e.data.token),t("/home")}),(function(e){console.log(e),S(!0),setTimeout((function(){S(!1)}),2e3),r(""),u("")})):alert("Please fill all the credentials")},children:[Object(b.jsxs)(v.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(b.jsx)(v.a.Label,{children:"Email address"}),Object(b.jsx)(v.a.Control,{type:"email",placeholder:"Enter email",value:c,onChange:function(e){r(e.target.value)}})]}),Object(b.jsxs)(v.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(b.jsx)(v.a.Label,{children:"Password"}),Object(b.jsx)(v.a.Control,{type:"password",placeholder:"Password",value:d,onChange:function(e){u(e.target.value)}})]}),Object(b.jsx)(h.a,{variant:"primary",type:"submit",children:"Submit"})]})]})};function w(e){var t=[];for(var a in e){var n=encodeURIComponent(a),s=encodeURIComponent(e[a]);t.push(n+"="+s)}return t.join("&")}var I=function(e){var t=Object(i.f)();e.authorized&&t("/home");var a=Object(n.useState)(""),s=Object(l.a)(a,2),c=s[0],r=s[1],o=Object(n.useState)(""),j=Object(l.a)(o,2),d=j[0],u=j[1],m=Object(n.useState)(""),O=Object(l.a)(m,2),p=O[0],x=O[1],S=Object(n.useState)(""),I=Object(l.a)(S,2),y=I[0],C=I[1],N=Object(n.useState)(!1),k=Object(l.a)(N,2),z=k[0],A=k[1];Object(n.useEffect)((function(){localStorage.setItem("token",""),localStorage.setItem("isAuthorized",!1)}));return Object(b.jsxs)("div",{children:[z&&Object(b.jsx)(f.a,{className:"alert",variant:"danger",children:"Password Does,t Match"}),Object(b.jsx)("h1",{style:{textAlign:"center",marginTop:"30px"},children:"Sign-Up"}),Object(b.jsxs)(v.a,{className:"signup-form",onSubmit:function(e){if(e.preventDefault(),0!==c.length&&0!==d.length&&0!==p.length&&0!==y.length){if(p!==y)return A(!0),setTimeout((function(){A(!1)}),2e3),r(""),u(""),x(""),void C("");console.log(c,d,p,y),console.log(w({name:c,email:d,password:p})),fetch(g+"register",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:w({name:c,email:d,password:p})}).then((function(e){return e.json()})).then((function(e){console.log(e),e.registered&&(r(""),u(""),x(""),C(""),t("/signin"))}))}else alert("Please fill all the credentials")},children:[Object(b.jsxs)(v.a.Group,{className:"mb-3",children:[Object(b.jsx)(v.a.Label,{children:"Name"}),Object(b.jsx)(v.a.Control,{type:"text",placeholder:"Enter email",value:c,onChange:function(e){return r(e.target.value)}})]}),Object(b.jsxs)(v.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(b.jsx)(v.a.Label,{children:"Email address"}),Object(b.jsx)(v.a.Control,{type:"email",placeholder:"Enter email",value:d,onChange:function(e){return u(e.target.value)}})]}),Object(b.jsxs)(v.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(b.jsx)(v.a.Label,{children:"Password"}),Object(b.jsx)(v.a.Control,{type:"password",placeholder:"Password",value:p,onChange:function(e){return x(e.target.value)}})]}),Object(b.jsxs)(v.a.Group,{className:"mb-3",children:[Object(b.jsx)(v.a.Label,{children:"Confirm Password"}),Object(b.jsx)(v.a.Control,{type:"password",placeholder:"Password",value:y,onChange:function(e){return C(e.target.value)}})]}),Object(b.jsx)(h.a,{variant:"primary",type:"submit",children:"Submit"})]})]})};var y=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],s=t[1],c=function(e){s(e)};return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(m,{authorized:a,handlesetAuthorization:c}),Object(b.jsxs)(i.c,{children:[Object(b.jsx)(i.a,{path:"/",element:Object(b.jsx)(I,{})}),Object(b.jsx)(i.a,{path:"/signin",element:Object(b.jsx)(S,{})}),Object(b.jsx)(i.a,{path:"/home",element:Object(b.jsx)(x,{handlesetAuthorization:c})})]})]})};r.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(o.a,{children:Object(b.jsx)(y,{})})}),document.getElementById("root"))}},[[90,1,2]]]);
//# sourceMappingURL=main.2cd06cc2.chunk.js.map